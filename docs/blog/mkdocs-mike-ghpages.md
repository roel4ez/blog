---
author: Roel Fauconnier
author_gh_user: roel4ez
read_time: 5min
publish_date: 22-dec-2021
tags:
    - blog
    - CI
    - mike
title: Documentation with mkdocs and GitHub Pages
---

## Setup

- install python + pip
- pip install mkdocs
- pip install mkdocs-material
- pip install mike

### Branching

docs should live in a separated repository.


## Working with docs

Documentation is generated by the tools `mkdocs` and `mkdocs-material`. These tools
generate a static website based on a configuration file and a set of markdown
files. The static website is hosted on GitHub Pages.

Documentation is available in a detached branch `docs/main`. This branch is locked
and only accepts PRs. Two Actions are triggered by the PR:

- On PR creation: Markdown linting and link checking
- On PR merge: deployment of `dev` version of docs website

### Deployment

For deployment, the additional toolset `mike` is used. This tool allows us to deploy
multiple versions of the documentation. There is a manual GitHub Action to deploy
a specific version.

### local development

For local development, use the docker-container provided by `mkdocs-material`.
Run `docker run --rm -it -p 8000:8000 -v ${PWD}:/docs squidfunk/mkdocs-material`
in the root directory of the docs to get a copy running on `http://localhost:8000`

Alternitively, install the required pip packages:

```bash
install python + pip
pip install mkdocs
pip install mkdocs-material

# optional
pip install mike
```

### configuration

The file `mkdocs.yml` provides the main configuration for the website, such as 
color and themes, plugins and extension. The `TOC` is also defined in the config
file, under the section `nav`. Currently, new pages are not automatically added
to the TOC.
